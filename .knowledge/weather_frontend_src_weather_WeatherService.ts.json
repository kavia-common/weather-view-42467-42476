{"is_source_file": true, "format": "TypeScript", "description": "This file defines a TypeScript module for interacting with the Open-Meteo API, including interfaces for weather data structures, functions to search locations and fetch weather forecasts, and internal utilities for unit mapping.", "external_files": ["./config"], "external_methods": ["getApiBase", "getGeocodeBase"], "published": ["searchLocations", "getCurrentAndForecast", "LocationResult", "CurrentBlock", "HourlyBlock", "DailyBlock", "WeatherResponse"], "classes": [], "methods": [{"name": "export async function searchLocations(name: string): Promise<LocationResult[]> { searchLocations", "description": "Searches for locations by name using the Open-Meteo geocoding API and returns an array of location results.", "scope": "", "scopeKind": ""}, {"name": "export async function getCurrentAndForecast(lat: number, lon: number, units: Units): Promise<Wea/ getCurrentAndForecast", "description": "Fetches current weather and forecast data for given coordinates, returning structured weather data.", "scope": "", "scopeKind": ""}, {"name": "function mapUnits(units: Units) { mapUnits", "description": "Private utility that maps internal unit system to API parameters.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "getApiBase", "getGeocodeBase"], "search-terms": ["WeatherService", "Open-Meteo API", "location search", "forecast fetch", "WeatherResponse"], "state": 2, "file_id": 20, "knowledge_revision": 47, "git_revision": "", "revision_history": [{"42": ""}, {"47": ""}], "ctags": [{"_type": "tag", "name": "CurrentBlock", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export interface CurrentBlock {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "DailyBlock", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export interface DailyBlock {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "HourlyBlock", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export interface HourlyBlock {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "LocationResult", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export interface LocationResult {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "Units", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^import { getApiBase, getGeocodeBase, type Units } from '.\\/config'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "WeatherResponse", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export interface WeatherResponse {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "admin1", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  admin1?: string$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "apparent_temperature", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  apparent_temperature: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "apparent_temperature", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  apparent_temperature?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  country?: string$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "current", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  current?: CurrentBlock$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "daily", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  daily?: DailyBlock$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const data = await res.json() as WeatherResponse$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentAndForecast", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const data: { results?: Array<Record<string, unknown>> } = await res.json()$/", "language": "TypeScript", "kind": "constant", "scope": "searchLocations", "scopeKind": "function"}, {"_type": "tag", "name": "getCurrentAndForecast", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export async function getCurrentAndForecast(lat: number, lon: number, units: Units): Promise<Wea/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "hourly", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  hourly?: HourlyBlock$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  id?: string | number$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "latitude", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  latitude: number$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "latitude", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  latitude: number$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "longitude", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  longitude: number$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "longitude", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  longitude: number$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const m = mapUnits(units)$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentAndForecast", "scopeKind": "function"}, {"_type": "tag", "name": "mapUnits", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^function mapUnits(units: Units) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  name: string$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "precipitation_probability", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  precipitation_probability?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "precipitation_probability_max", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  precipitation_probability_max?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "precipitation_probability_mean", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  precipitation_probability_mean?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "relative_humidity_2m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  relative_humidity_2m?: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "relative_humidity_2m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  relative_humidity_2m?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const res = await fetch(u.toString())$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentAndForecast", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const res = await fetch(u.toString())$/", "language": "TypeScript", "kind": "constant", "scope": "searchLocations", "scopeKind": "function"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const results = (data?.results ?? [])$/", "language": "TypeScript", "kind": "constant", "scope": "searchLocations", "scopeKind": "function"}, {"_type": "tag", "name": "searchLocations", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^export async function searchLocations(name: string): Promise<LocationResult[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "temperature_2m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  temperature_2m: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "temperature_2m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  temperature_2m?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "temperature_2m_max", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  temperature_2m_max?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "temperature_2m_min", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  temperature_2m_min?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  time: string[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  time: string[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  time?: string$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "timezone", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  timezone: string$/", "language": "TypeScript", "kind": "property", "scope": "WeatherResponse", "scopeKind": "interface"}, {"_type": "tag", "name": "timezone", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  timezone?: string$/", "language": "TypeScript", "kind": "property", "scope": "LocationResult", "scopeKind": "interface"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const u = new URL('\\/v1\\/forecast', getApiBase())$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentAndForecast", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  const u = new URL('\\/v1\\/search', getGeocodeBase())$/", "language": "TypeScript", "kind": "constant", "scope": "searchLocations", "scopeKind": "function"}, {"_type": "tag", "name": "weather_code", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  weather_code?: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "weather_code", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  weather_code?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "weather_code", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  weather_code?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "weathercode", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  weathercode?: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "weathercode", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  weathercode?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "DailyBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "wind_speed_10m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  wind_speed_10m: number$/", "language": "TypeScript", "kind": "property", "scope": "CurrentBlock", "scopeKind": "interface"}, {"_type": "tag", "name": "wind_speed_10m", "path": "/home/kavia/workspace/code-generation/weather-view-42467-42476/weather_frontend/src/weather/WeatherService.ts", "pattern": "/^  wind_speed_10m?: number[]$/", "language": "TypeScript", "kind": "property", "scope": "HourlyBlock", "scopeKind": "interface"}], "hash": "5f2dc001c5f83803a7ad51cde042ec34", "format-version": 4, "code-base-name": "weather_frontend", "filename": "weather_frontend/src/weather/WeatherService.ts", "fields": [{"name": "export interface CurrentBlock {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface DailyBlock {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface HourlyBlock {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface LocationResult {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface WeatherResponse {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "admin1?: string", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "apparent_temperature: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "apparent_temperature?: number[]", "scope": "HourlyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "country?: string", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "current?: CurrentBlock", "scope": "WeatherResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "daily?: DailyBlock", "scope": "WeatherResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "hourly?: HourlyBlock", "scope": "WeatherResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "id?: string | number", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "latitude: number", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "longitude: number", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "name: string", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "precipitation_probability?: number[]", "scope": "HourlyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "precipitation_probability_max?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "precipitation_probability_mean?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "relative_humidity_2m?: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "relative_humidity_2m?: number[]", "scope": "HourlyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "temperature_2m: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "temperature_2m?: number[]", "scope": "HourlyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "temperature_2m_max?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "temperature_2m_min?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "time: string[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "time?: string", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "timezone: string", "scope": "WeatherResponse", "scopeKind": "interface", "description": "unavailable"}, {"name": "timezone?: string", "scope": "LocationResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "weather_code?: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "weather_code?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "weathercode?: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "weathercode?: number[]", "scope": "DailyBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "wind_speed_10m: number", "scope": "CurrentBlock", "scopeKind": "interface", "description": "unavailable"}, {"name": "wind_speed_10m?: number[]", "scope": "HourlyBlock", "scopeKind": "interface", "description": "unavailable"}]}